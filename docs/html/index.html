<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Faceit stats</title>
      <link
         href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
         rel="stylesheet"
         integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
         crossorigin="anonymous"
         />
      <link rel="stylesheet" href="../css/style.css" />
   </head>
   <div class="container grey-bg main">
      <div class="searchbar input-group mb-3">
         <input
            type="text"
            id="playersearch"
            class="form-control"
            placeholder="username"
            />
         <button
            class="searchbtn btn btn-outline-secondary"
            type="button"
            id="playersearchbtn"
            >
         Search
         </button>
      </div>
      <h4 id="searchText" style="text-align: center">Search for a player!</h4>
      <div class="loader-container" id="loader-container" hidden>
         <svg class="spinner">
            <circle cx="70" cy="70" r="70"></circle>
         </svg>
      </div>
      <div id="aftersearch" hidden>
         <div class="row playerprofile d-flex justify-content-center shadow-bottom border border-bottom border-5 border-dark">
            <div class="col-2">
               <img
                  id="playerimg"
                  src="https://distribution.faceit-cdn.net/images/b356e0ec-5a89-4b74-8aaa-785886b9fae7.jpeg"
                  class="rounded-circle mx-auto d-block border border-5"
                  alt="player avatar"
                  width="150px"
                  height="150px"
                  />
            </div>
            <div class="col-6 mt-3" style="margin-left: 15px;">
               <h4 class="mx-auto d-block shadow fw-bold">
                  Stats for player <span id="playerurl"></span>
               </h4>
               <h5 class="mx-auto d-block shadow">
                  Elo: <span id="playerelo" class="fw-bold">3044</span>
               </h5>
               <h5 class="mx-auto d-block shadow">
                  Country:
                  <img id="playercountry" width="auto" height="25px" class="fw-bold">
               </h5>
               <h5 class="mx-auto d-block shadow">
                  Recent results: <span id="recentresults"></span>
               </h5>
            </div>
            <div class="col-3">
               <h5 class="mx-auto d-block"><span id="playerlevel"></span></h5>
            </div>
         </div>
         <h1 class="text-center mt-1 fw-bold">Stats</h1>
         <div class="row playerstats d-flex justify-content-center">
            <div class="col-4">
               <div class="container statcard border border-1 border-dark shadow-lg">
                  <div class="row">
                     <div class="col-12" style="height:150px;">
                        <h4 class="text-center faceitcolors mt-1 fw-bold">K/D Ratio</h4>
                        <h5>Overall K/D: <span id="playerkd" class="fw-bold"></span></h5>
                        <h5>Overall HS %: <span id="playerhs" class="fw-bold"></span></h5>
                     </div>
                     <div class="col-12" style="height:150px;">
                        <h4 class="text-center mt-1 fw-bold">Last 20 Matches</h4>
                        <h5>K/D: <span id="playerkdLast20" class="fw-bold"></span></h5>
                        <h5>HS %: <span id="playerhsLast20" class="fw-bold"></span></h5>
                     </div>
                  </div>
               </div>
            </div>
            <div class="col-4">
               <div class="container statcard border border-1 border-dark shadow-lg">
                  <div class="row">
                     <div class="col-12" style="height:150px;">
                        <h4 class="text-center faceitcolors mt-1 fw-bold">W/L Rating</h4>
                        <h5>Win Rate: <span id="playerwinrate" class="fw-bold"></span></h5>
                        <h5>Wins: <span id="playerwins" class="fw-bold"></span></h5>
                        <h5>Losses: <span id="playerlosses" class="fw-bold"></span></h5>
                     </div>
                     <div class="col-12" style="height:150px;">
                        <h4 class="text-center mt-1 fw-bold">Last 20 Matches</h4>
                        <h5>Wins: <span id="playerWinsLast20" class="fw-bold win"></span></h5>
                        <h5>Losses: <span id="playerLossesLast20" class="fw-bold loss"></span></h5>
                     </div>
                  </div>
               </div>
            </div>
            <div class="col-4">
               <div class="container statcard border border-1 border-dark shadow-lg">
                  <h4 class="text-center faceitcolors mt-1 fw-bold">HLTV Rating</h4>
               </div>
            </div>
         </div>
         <div class="row playerstats d-flex justify-content-center mt-5">
            <div class="col-4">
               <div class="container statcard border border-1 border-dark shadow-lg">
                  <h4 class="text-center faceitcolors mt-1 fw-bold">Multi Kills & MVPs</h4>
                  <h5>Aces: <span id="totalAces" class="fw-bold"></span></h5>
                  <h5>4Ks: <span id="total4Ks" class="fw-bold"></span></h5>
                  <h5>3Ks: <span id="total3Ks" class="fw-bold"></span></h5>
                  <h5>MVPs: <span id="totalMvps" class="fw-bold"></span></h5>
               </div>
            </div>
            <div class="col-4">
               <div class="container statcard border border-1 border-dark shadow-lg">
                  <h4 class="mt-1 faceitcolors text-center fw-bold">Total Statistics</h4>
                  <h5>Kills: <span id="totalKills" class="fw-bold"></span></h5>
                  <h5>Deaths: <span id="totalDeaths" class="fw-bold"></span></h5>
                  <h5>Assists: <span id="totalAssists" class="fw-bold"></span></h5>
                  <h5>Headshots: <span id="totalHeadshots" class="fw-bold"></span></h5>
               </div>
            </div>
            <div class="col-4">
               <div class="container statcard border border-1 border-dark shadow-lg">
                  <h4 class="text-center faceitcolors mt-1 fw-bold">Matches</h4>
                  <h5>Total Matches: <span id="totalMatches" class="fw-bold"></span></h5>
                  <h5>Highest Winstreak: <span id="highestWstreak" class="fw-bold"></span></h5>
                  <h5>Current Winstreak: <span id="currentWstreak" class="fw-bold"></span></h5>
               </div>
            </div>
            <div class="row">
               <div class="col-6 mt-5">
                  <div class="container statcard border border-1 border-dark shadow-lg">
                     <h4 class="text-center faceitcolors mt-3 fw-bold">K/D Last 20 Matches</h4>
                     <canvas id="kdChart" width="200px" height="100px"></canvas>
                  </div>
               </div>
               <div class="col-6 mt-5">
                  <div class="container statcard border border-1 border-dark shadow-lg">
                     <h4 class="text-center faceitcolors mt-3 fw-bold">K/R Last 20 Matches</h4>
                     <canvas id="krChart" width="200px" height="100px"></canvas>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
   </div>
   </div>
   </div>
   <script
      src="https://code.jquery.com/jquery-3.6.0.js"
      integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
      crossorigin="anonymous"
      ></script>
   <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
      ></script>
   <script src="https://cdn.jsdelivr.net/npm/chart.js@3.6.0/dist/chart.min.js"></script>
   <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js" integrity="sha256-6XMVI0zB8cRzfZjqKcD01PBsAy3FlDASrlC8SxCpInY=" crossorigin="anonymous"></script>
   <script type="module" src="../js/main.js"></script>
   </body>
</html>